# 响应式网站

## 学习准备

随着近几年国内互联网的飞速发展,以及移动互联网行业的井喷,很多用户浏览网页的习惯已经从传统的PC网站操作转换成了到移动端用手机浏览.在这个大背景下,前端程序员构建响应式网站的需求应运而生,下面我们先简单的说一下我们实际开发中的几种针对移动端适配的方案,以及基本原则

### 适配移动端的两种方案

响应式网站的构建分为移动端优先和web优先两种方式,其出发点分别是先构建哪一载体的网站,然后根据其内容进行迁移或扩展,具体采用哪种方案通常都是根据公司的运营方向来制定,我们把这类移动端和PC端都在统一域名下,根据屏幕尺寸不同进行适配的方案统称为响应式网站,我们平常浏览的很多网站都是用响应式的方式解决了移动端适配的问题,拿vue.js的官网来举例:

![PC](https://i.loli.net/2018/06/23/5b2e01c2bf7d0.png)

当它的屏幕尺寸进行变化时,他的显示内容则进行了对应的调整,如图:

![APP](https://i.loli.net/2018/06/23/5b2e0236c4f23.png)

这是我们非常典型的响应式构建网站的方案,但是其中有一个弊端,也就是业务相对简单清晰的时候利用这种方式会很快的适配各端,一旦整个网站业务很复杂,展示的元素很多,响应式的方式并不能满足该网站的业务需求时,响应式的方案可能会使开发复杂度变高,代码难以维护.

在这种场景下,另一种方案呼之欲出,下面我们看一下淘宝:

![tb-pc](https://i.loli.net/2018/06/24/5b2fa0083ac9c.png)

当我们手机访问的时候它的域名由https://www.taobao.com 自动切换成了https://h5.m.taobao.com/

![tb-app](https://i.loli.net/2018/06/24/5b2fa157e7c99.png)

它们其实是两个独立的网站,本质是根据浏览器识别出的不同设备,来进行对应网站加载,这样就能让我们对PC和WAP进行独立开发,互不影响.

这两种方案各有利弊,国内的开发团队比较喜欢用分别开发两个网站的形式来适配移动端,而国外则很喜欢用响应式的方式来解决移动端的适配问题.因为国内很多公司移动端和前端分别隶属于两个开发团队,很多团队的leader为了让自己的员工工作更饱和,所以首选开发两个站来解决移动端的问题.而国外则更注重网站整体的规划和设计,他们并不想让一个页面承载过多的业务和元素,所以他们比较喜欢用响应式的方式来处理.

#### 响应式网站的优缺点

##### 响应式网站的优点:
1. 一个网站适应所有设备
2. 能够更加容易的做搜索引擎优化
3. 开发成本更低


##### 响应式网站的缺点:
1. 适配的侧重点不一定满足所有用户的需求
2. 可能会出现加载时间过长或兼容性问题
3. 整体用户体验可能会有一些影响



### 构建响应式网站的原则

响应式网站设计对于解决多类型屏幕问题来说是个不错方案,下面我们简单的说一下响应式网站构建的基本原则:

1. **流式布局**: 构建响应式网站采用的布局方式大多为流式布局,当前空间不足时它的内容会自动向下方延伸
2. **相对单位**: 因为不论是PC还是手机,我们设备的像素密度会彼此不同,采用相对单位可以更加灵活的适配各种屏幕
3. **最大值及最小值**: 在网站设计时应考虑元素的最大或最小宽高,以防影响整体美观
4. **流量**: web字体或图片在加载时要进行下载,在移动端我们要考虑节约用户流量,所以尽量优先选择系统字体和适用的图片,以提高加载速度
5. **比例**: 图片视频等内容要尽量按等比缩放,不要规定图片高度



## 移动端的交互方式

### 移动端内容组织的特点

因为移动端的宽高并不像PC浏览器那样固定,移动设备的物理大小也很受限,所以其内容的组织形式形成了自己的特点,其大致可以分为:列表,网格,轮播,卡片四种形式

#### 列表

列表的形式非常常见,其通常会和标签栏一起使用,切换不同的标签呈现不同类别的列表,在移动端的交互中,列表的数据可以利用上拉加载以及下拉刷新来实时更新,单击列表项则多为进入该条目下的详情页

![淘宝列表](https://i.loli.net/2018/06/24/5b2fb5eaacf1e.png)

上图是淘宝的商品列表,这种形式可以比较直观的向我们展示当前内容的关键信息

#### 网格

网格是将图标,略缩图等内容组织成规则的行列形式,点击后进入的下一级 内容通常为类目细节内容视图,网格可以很好的在有限的界面中组织数量较多的类目

![淘宝网格](https://i.loli.net/2018/06/24/5b2fb83e1f12b.png)

上图是淘宝的首页截图,利用网格,淘宝将不同类别的入口排列在首页中,并根据不同类别的重要性以及特点,将网格的尺寸做了适当的划分,使得不同入口有一个较合理的排列.这种方式在国内很多应用中均有运用.

#### 轮播

轮播是一个在固定区域内,通过轮播显示切换的一个提示工具,大部分的轮播都是在固定的时间从头到尾将显示内容依次展示,不同的产品设计师会根据其交互特点设计其独有的显示方式.

![淘宝banner](https://i.loli.net/2018/06/24/5b2fb9971de65.png)

上图是淘宝的banner,大部分的公司都会利用banner来做一些内容推荐或者商业广告的展示,通常采用的是图片的形式,每一项都是独立的内容,采用自动播放的形式自动切换到下一张.


#### 卡片

卡片是随着移动端的发展,一种新型的交互方法,其本质是列表的升级改良,里面可以包含媒体文本,网页链接以及交互动作

![淘宝卡片](https://i.loli.net/2018/06/24/5b2fba7e995f9.png)

上图是淘宝的精选卡片,其中封装了各类信息、图片以及交互控件,右下角可以点赞.像是微博等应用的卡片还可以实时播放视频及音频.

### 移动端与PC端交互方式的区别

#### PC端和移动端的设计区别

1. **屏幕及适配**: PC端很多时候由于历史遗留问题,不得不兼容IE6等浏览器,而移动端因为近年发展比较迅速,很多情况下可以使用比较新的技术,PC端的屏幕可以承载更多的内容,而移动端则受限很多,所以设计响应式网站时要尽可能的去考虑不同设备的屏幕及如何适配
2. **系统环境**:不同的操作系统有其独有的特性,在做响应式网站的时候要熟悉各个系统的特性及特点,以便进行最大限度的兼容
3. **网络环境**:极端情况下移动端会出现弱网络或无网络的情况,部分用户会很关心手机流量的使用情况,所以我们设计时要尽可能的考虑页面的加载速度及性能,以免给用户带来不必要的困扰
4. **使用场景**:PC端操作我们常常是坐在电脑前,而移动端的用户可以是走路,躺在床上,或者在比较拥挤的地铁站里进行浏览,所以在整体布局和设计时要模拟用户的真实使用场景,来提升用户体验
5. **交互**:随着移动技术的飞速发展,移动端可以更方便的使用扫码,即时推送,语音,传感器等功能,我们可以利用这些技术来为用户设计更为智能的交互


#### 移动端的事件

刚入门前端的同学注意了,在移动端中我们常用的`hover`(鼠标经过,鼠标离开)以及`click`事件的兼容性并不是特别好

##### `hover`事件

在PC端中,我们常常用hover事件来监听鼠标是否移动到某一区域,在移动端中是不支持`hover`事件的,下面来看一下我们的代码示例

我们先创建一个`div`,给他设置一下基本的宽高及背景颜色,当`hover`时,我们来改变一下它的背景色,代码如下

``` html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

</head>
<body>
  <div id="test">hover</div>
</body>
</html>

```

```CSS
div{
  width: 100px;
  height: 100px;
  background-color: red;
}
```

```JavaScript

test.addEventListener("mouseover",()=>{
  console.log("over")
})

test.addEventListener("mouseout",()=>{
  console.log("out")
})

```

在PC浏览器访问时,我们将鼠标划过红色区域时,它会在控制台输出如下内容:
![over-out](https://i.loli.net/2018/06/25/5b2fc9037e642.png)

在移动端访问时,由于各厂商浏览器的兼容性问题,我们即便点击红色区域,可能也会监听不到这个事件,所以控制台不会有任何输出.

[实例代码](https://codepen.io/hanchenhao/pen/BVVeeW)

##### `click`事件

由于一些历史遗漏原因,在移动端`click`事件会有300ms的延时,因为我们手机常常会有双击缩放等内置功能,所以浏览器会对单击进行延时处理.

针对这种问题,我们通常采用禁止缩放,或插件的方式来解决,另外在移动端我们还可以使用`touch`事件来替代`click`事件.



## 移动端的几种常用`meta`

刚刚我们说到了处理`click`事件延时,其中有种采用禁止缩放的方式,这种方式就用到了`meta`,下面我们介绍一下移动端几种常用的`meta`


